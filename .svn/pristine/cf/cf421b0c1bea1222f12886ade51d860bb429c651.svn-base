package com.ekenya.echama.ui.group


import android.os.Bundle
import android.view.*
import androidx.fragment.app.Fragment
import androidx.navigation.findNavController
import androidx.navigation.ui.NavigationUI
import androidx.viewpager.widget.ViewPager

import com.ekenya.echama.R
import com.ekenya.echama.adapter.MyPagerAdapter
import com.ekenya.echama.ui.home.MyGroups
import com.ekenya.echama.ui.home.RecentActivitiesFragment
import com.google.android.material.tabs.TabLayout

/**
 * A simple [Fragment] subclass.
 */
class GroupWalletTabFragment : Fragment() {
    lateinit var viewPAdapter : MyPagerAdapter
    lateinit var tabLayout : TabLayout
    lateinit var viewPager : ViewPager
    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        // Inflate the layout for this fragment
        val rootView =  inflater.inflate(R.layout.fragment_group_details, container, false)

        viewPager = rootView.findViewById(R.id.viewPager)
        tabLayout = rootView.findViewById(R.id.tabLayout)

        viewPAdapter= MyPagerAdapter(childFragmentManager)
        //Seting uo function viewpager
        SetupViewpager(viewPager)
        tabLayout.setupWithViewPager(viewPager)
        setHasOptionsMenu(true)
        return rootView
    }
    private fun SetupViewpager(viewPager: ViewPager) {

        viewPAdapter.addFragment(GroupMembersFragment(),"Group wallet")
        viewPAdapter.addFragment(GroupWalletAllContributionFragment(),"Contribution")
        viewPager.adapter=viewPAdapter
    }
    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
        super.onCreateOptionsMenu(menu, inflater)
        inflater.inflate(R.menu.overflow_group_menu, menu)
    }

    override fun onOptionsItemSelected(item: MenuItem): Boolean {
        return NavigationUI.onNavDestinationSelected(item,
            view!!.findNavController())
    }



}
